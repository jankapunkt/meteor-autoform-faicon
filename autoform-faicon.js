/* global AutoForm $ */
import { Template } from 'meteor/templating'
import { ReactiveVar } from 'meteor/reactive-var'
import './autoform-faicon.css'
import './autoform-faicon.html'

const icons = {
  '500px': '500px',
  'addressbook': 'address-book',
  'addressbooko': 'address-book-o',
  'addresscard': 'address-card',
  'addresscardo': 'address-card-o',
  'adjust': 'adjust',
  'adn': 'adn',
  'aligncenter': 'align-center',
  'alignjustify': 'align-justify',
  'alignleft': 'align-left',
  'alignright': 'align-right',
  'amazon': 'amazon',
  'ambulance': 'ambulance',
  'americansignlanguageinterpreting': 'american-sign-language-interpreting',
  'anchor': 'anchor',
  'android': 'android',
  'angellist': 'angellist',
  'angledoubledown': 'angle-double-down',
  'angledoubleleft': 'angle-double-left',
  'angledoubleright': 'angle-double-right',
  'angledoubleup': 'angle-double-up',
  'angledown': 'angle-down',
  'angleleft': 'angle-left',
  'angleright': 'angle-right',
  'angleup': 'angle-up',
  'apple': 'apple',
  'archive': 'archive',
  'areachart': 'area-chart',
  'arrowcircledown': 'arrow-circle-down',
  'arrowcircleleft': 'arrow-circle-left',
  'arrowcircleodown': 'arrow-circle-o-down',
  'arrowcircleoleft': 'arrow-circle-o-left',
  'arrowcircleoright': 'arrow-circle-o-right',
  'arrowcircleoup': 'arrow-circle-o-up',
  'arrowcircleright': 'arrow-circle-right',
  'arrowcircleup': 'arrow-circle-up',
  'arrowdown': 'arrow-down',
  'arrowleft': 'arrow-left',
  'arrowright': 'arrow-right',
  'arrows': 'arrows',
  'arrowsalt': 'arrows-alt',
  'arrowsh': 'arrows-h',
  'arrowsv': 'arrows-v',
  'arrowup': 'arrow-up',
  'assistivelisteningsystems': 'assistive-listening-systems',
  'asterisk': 'asterisk',
  'at': 'at',
  'audiodescription': 'audio-description',
  'backward': 'backward',
  'balancescale': 'balance-scale',
  'ban': 'ban',
  'bandcamp': 'bandcamp',
  'barchart': 'bar-chart',
  'barcode': 'barcode',
  'bars': 'bars',
  'bath': 'bath',
  'batteryempty': 'battery-empty',
  'batteryfull': 'battery-full',
  'batteryhalf': 'battery-half',
  'batteryquarter': 'battery-quarter',
  'batterythreequarters': 'battery-three-quarters',
  'bed': 'bed',
  'beer': 'beer',
  'behance': 'behance',
  'behancesquare': 'behance-square',
  'bell': 'bell',
  'bello': 'bell-o',
  'bellslash': 'bell-slash',
  'bellslasho': 'bell-slash-o',
  'bicycle': 'bicycle',
  'binoculars': 'binoculars',
  'birthdaycake': 'birthday-cake',
  'bitbucket': 'bitbucket',
  'bitbucketsquare': 'bitbucket-square',
  'blacktie': 'black-tie',
  'blind': 'blind',
  'bluetooth': 'bluetooth',
  'bluetoothb': 'bluetooth-b',
  'bold': 'bold',
  'bolt': 'bolt',
  'bomb': 'bomb',
  'book': 'book',
  'bookmark': 'bookmark',
  'bookmarko': 'bookmark-o',
  'braille': 'braille',
  'briefcase': 'briefcase',
  'btc': 'btc',
  'bug': 'bug',
  'building': 'building',
  'buildingo': 'building-o',
  'bullhorn': 'bullhorn',
  'bullseye': 'bullseye',
  'bus': 'bus',
  'buysellads': 'buysellads',
  'calculator': 'calculator',
  'calendar': 'calendar',
  'calendarchecko': 'calendar-check-o',
  'calendarminuso': 'calendar-minus-o',
  'calendaro': 'calendar-o',
  'calendarpluso': 'calendar-plus-o',
  'calendartimeso': 'calendar-times-o',
  'camera': 'camera',
  'cameraretro': 'camera-retro',
  'car': 'car',
  'caretdown': 'caret-down',
  'caretleft': 'caret-left',
  'caretright': 'caret-right',
  'caretsquareodown': 'caret-square-o-down',
  'caretsquareoleft': 'caret-square-o-left',
  'caretsquareoright': 'caret-square-o-right',
  'caretsquareoup': 'caret-square-o-up',
  'caretup': 'caret-up',
  'cartarrowdown': 'cart-arrow-down',
  'cartplus': 'cart-plus',
  'cc': 'cc',
  'ccamex': 'cc-amex',
  'ccdinersclub': 'cc-diners-club',
  'ccdiscover': 'cc-discover',
  'ccjcb': 'cc-jcb',
  'ccmastercard': 'cc-mastercard',
  'ccpaypal': 'cc-paypal',
  'ccstripe': 'cc-stripe',
  'ccvisa': 'cc-visa',
  'certificate': 'certificate',
  'chainbroken': 'chain-broken',
  'check': 'check',
  'checkcircle': 'check-circle',
  'checkcircleo': 'check-circle-o',
  'checksquare': 'check-square',
  'checksquareo': 'check-square-o',
  'chevroncircledown': 'chevron-circle-down',
  'chevroncircleleft': 'chevron-circle-left',
  'chevroncircleright': 'chevron-circle-right',
  'chevroncircleup': 'chevron-circle-up',
  'chevrondown': 'chevron-down',
  'chevronleft': 'chevron-left',
  'chevronright': 'chevron-right',
  'chevronup': 'chevron-up',
  'child': 'child',
  'chrome': 'chrome',
  'circle': 'circle',
  'circleo': 'circle-o',
  'circleonotch': 'circle-o-notch',
  'circlethin': 'circle-thin',
  'clipboard': 'clipboard',
  'clocko': 'clock-o',
  'clone': 'clone',
  'cloud': 'cloud',
  'clouddownload': 'cloud-download',
  'cloudupload': 'cloud-upload',
  'code': 'code',
  'codefork': 'code-fork',
  'codepen': 'codepen',
  'codiepie': 'codiepie',
  'coffee': 'coffee',
  'cog': 'cog',
  'cogs': 'cogs',
  'columns': 'columns',
  'comment': 'comment',
  'commenting': 'commenting',
  'commentingo': 'commenting-o',
  'commento': 'comment-o',
  'comments': 'comments',
  'commentso': 'comments-o',
  'compass': 'compass',
  'compress': 'compress',
  'connectdevelop': 'connectdevelop',
  'contao': 'contao',
  'copyright': 'copyright',
  'creativecommons': 'creative-commons',
  'creditcard': 'credit-card',
  'creditcardalt': 'credit-card-alt',
  'crop': 'crop',
  'crosshairs': 'crosshairs',
  'css3': 'css3',
  'cube': 'cube',
  'cubes': 'cubes',
  'cutlery': 'cutlery',
  'dashcube': 'dashcube',
  'database': 'database',
  'deaf': 'deaf',
  'delicious': 'delicious',
  'desktop': 'desktop',
  'deviantart': 'deviantart',
  'diamond': 'diamond',
  'digg': 'digg',
  'dotcircleo': 'dot-circle-o',
  'download': 'download',
  'dribbble': 'dribbble',
  'dropbox': 'dropbox',
  'drupal': 'drupal',
  'edge': 'edge',
  'eercast': 'eercast',
  'eject': 'eject',
  'ellipsish': 'ellipsis-h',
  'ellipsisv': 'ellipsis-v',
  'empire': 'empire',
  'envelope': 'envelope',
  'envelopeo': 'envelope-o',
  'envelopeopen': 'envelope-open',
  'envelopeopeno': 'envelope-open-o',
  'envelopesquare': 'envelope-square',
  'envira': 'envira',
  'eraser': 'eraser',
  'etsy': 'etsy',
  'eur': 'eur',
  'exchange': 'exchange',
  'exclamation': 'exclamation',
  'exclamationcircle': 'exclamation-circle',
  'exclamationtriangle': 'exclamation-triangle',
  'expand': 'expand',
  'expeditedssl': 'expeditedssl',
  'externallink': 'external-link',
  'externallinksquare': 'external-link-square',
  'eye': 'eye',
  'eyedropper': 'eyedropper',
  'eyeslash': 'eye-slash',
  'facebook': 'facebook',
  'facebookofficial': 'facebook-official',
  'facebooksquare': 'facebook-square',
  'fastbackward': 'fast-backward',
  'fastforward': 'fast-forward',
  'fax': 'fax',
  'female': 'female',
  'fighterjet': 'fighter-jet',
  'file': 'file',
  'filearchiveo': 'file-archive-o',
  'fileaudioo': 'file-audio-o',
  'filecodeo': 'file-code-o',
  'fileexcelo': 'file-excel-o',
  'fileimageo': 'file-image-o',
  'fileo': 'file-o',
  'filepdfo': 'file-pdf-o',
  'filepowerpointo': 'file-powerpoint-o',
  'fileso': 'files-o',
  'filetext': 'file-text',
  'filetexto': 'file-text-o',
  'filevideoo': 'file-video-o',
  'filewordo': 'file-word-o',
  'film': 'film',
  'filter': 'filter',
  'fire': 'fire',
  'fireextinguisher': 'fire-extinguisher',
  'firefox': 'firefox',
  'firstorder': 'first-order',
  'flag': 'flag',
  'flagcheckered': 'flag-checkered',
  'flago': 'flag-o',
  'flask': 'flask',
  'flickr': 'flickr',
  'floppyo': 'floppy-o',
  'folder': 'folder',
  'foldero': 'folder-o',
  'folderopen': 'folder-open',
  'folderopeno': 'folder-open-o',
  'font': 'font',
  'fontawesome': 'font-awesome',
  'fonticons': 'fonticons',
  'fortawesome': 'fort-awesome',
  'forumbee': 'forumbee',
  'forward': 'forward',
  'foursquare': 'foursquare',
  'freecodecamp': 'free-code-camp',
  'frowno': 'frown-o',
  'futbolo': 'futbol-o',
  'gamepad': 'gamepad',
  'gavel': 'gavel',
  'gbp': 'gbp',
  'genderless': 'genderless',
  'getpocket': 'get-pocket',
  'gg': 'gg',
  'ggcircle': 'gg-circle',
  'gift': 'gift',
  'git': 'git',
  'github': 'github',
  'githubalt': 'github-alt',
  'githubsquare': 'github-square',
  'gitlab': 'gitlab',
  'gitsquare': 'git-square',
  'glass': 'glass',
  'glide': 'glide',
  'glideg': 'glide-g',
  'globe': 'globe',
  'google': 'google',
  'googleplus': 'google-plus',
  'googleplusofficial': 'google-plus-official',
  'googleplussquare': 'google-plus-square',
  'googlewallet': 'google-wallet',
  'graduationcap': 'graduation-cap',
  'gratipay': 'gratipay',
  'grav': 'grav',
  'hackernews': 'hacker-news',
  'handlizardo': 'hand-lizard-o',
  'handodown': 'hand-o-down',
  'handoleft': 'hand-o-left',
  'handoright': 'hand-o-right',
  'handoup': 'hand-o-up',
  'handpapero': 'hand-paper-o',
  'handpeaceo': 'hand-peace-o',
  'handpointero': 'hand-pointer-o',
  'handrocko': 'hand-rock-o',
  'handscissorso': 'hand-scissors-o',
  'handshakeo': 'handshake-o',
  'handspocko': 'hand-spock-o',
  'hashtag': 'hashtag',
  'hddo': 'hdd-o',
  'header': 'header',
  'headphones': 'headphones',
  'heart': 'heart',
  'heartbeat': 'heartbeat',
  'hearto': 'heart-o',
  'history': 'history',
  'home': 'home',
  'hospitalo': 'hospital-o',
  'hourglass': 'hourglass',
  'hourglassend': 'hourglass-end',
  'hourglasshalf': 'hourglass-half',
  'hourglasso': 'hourglass-o',
  'hourglassstart': 'hourglass-start',
  'houzz': 'houzz',
  'hsquare': 'h-square',
  'html5': 'html5',
  'icursor': 'i-cursor',
  'idbadge': 'id-badge',
  'idcard': 'id-card',
  'idcardo': 'id-card-o',
  'ils': 'ils',
  'imdb': 'imdb',
  'inbox': 'inbox',
  'indent': 'indent',
  'industry': 'industry',
  'info': 'info',
  'infocircle': 'info-circle',
  'inr': 'inr',
  'instagram': 'instagram',
  'internetexplorer': 'internet-explorer',
  'ioxhost': 'ioxhost',
  'italic': 'italic',
  'joomla': 'joomla',
  'jpy': 'jpy',
  'jsfiddle': 'jsfiddle',
  'key': 'key',
  'keyboardo': 'keyboard-o',
  'krw': 'krw',
  'language': 'language',
  'laptop': 'laptop',
  'lastfm': 'lastfm',
  'lastfmsquare': 'lastfm-square',
  'leaf': 'leaf',
  'leanpub': 'leanpub',
  'lemono': 'lemon-o',
  'leveldown': 'level-down',
  'levelup': 'level-up',
  'lifering': 'life-ring',
  'lightbulbo': 'lightbulb-o',
  'linechart': 'line-chart',
  'link': 'link',
  'linkedin': 'linkedin',
  'linkedinsquare': 'linkedin-square',
  'linode': 'linode',
  'linux': 'linux',
  'list': 'list',
  'listalt': 'list-alt',
  'listol': 'list-ol',
  'listul': 'list-ul',
  'locationarrow': 'location-arrow',
  'lock': 'lock',
  'longarrowdown': 'long-arrow-down',
  'longarrowleft': 'long-arrow-left',
  'longarrowright': 'long-arrow-right',
  'longarrowup': 'long-arrow-up',
  'lowvision': 'low-vision',
  'magic': 'magic',
  'magnet': 'magnet',
  'male': 'male',
  'map': 'map',
  'mapmarker': 'map-marker',
  'mapo': 'map-o',
  'mappin': 'map-pin',
  'mapsigns': 'map-signs',
  'mars': 'mars',
  'marsdouble': 'mars-double',
  'marsstroke': 'mars-stroke',
  'marsstrokeh': 'mars-stroke-h',
  'marsstrokev': 'mars-stroke-v',
  'maxcdn': 'maxcdn',
  'meanpath': 'meanpath',
  'medium': 'medium',
  'medkit': 'medkit',
  'meetup': 'meetup',
  'meho': 'meh-o',
  'mercury': 'mercury',
  'microchip': 'microchip',
  'microphone': 'microphone',
  'microphoneslash': 'microphone-slash',
  'minus': 'minus',
  'minuscircle': 'minus-circle',
  'minussquare': 'minus-square',
  'minussquareo': 'minus-square-o',
  'mixcloud': 'mixcloud',
  'mobile': 'mobile',
  'modx': 'modx',
  'money': 'money',
  'moono': 'moon-o',
  'motorcycle': 'motorcycle',
  'mousepointer': 'mouse-pointer',
  'music': 'music',
  'neuter': 'neuter',
  'newspapero': 'newspaper-o',
  'objectgroup': 'object-group',
  'objectungroup': 'object-ungroup',
  'odnoklassniki': 'odnoklassniki',
  'odnoklassnikisquare': 'odnoklassniki-square',
  'opencart': 'opencart',
  'openid': 'openid',
  'opera': 'opera',
  'optinmonster': 'optin-monster',
  'outdent': 'outdent',
  'pagelines': 'pagelines',
  'paintbrush': 'paint-brush',
  'paperclip': 'paperclip',
  'paperplane': 'paper-plane',
  'paperplaneo': 'paper-plane-o',
  'paragraph': 'paragraph',
  'pause': 'pause',
  'pausecircle': 'pause-circle',
  'pausecircleo': 'pause-circle-o',
  'paw': 'paw',
  'paypal': 'paypal',
  'pencil': 'pencil',
  'pencilsquare': 'pencil-square',
  'pencilsquareo': 'pencil-square-o',
  'percent': 'percent',
  'phone': 'phone',
  'phonesquare': 'phone-square',
  'pictureo': 'picture-o',
  'piechart': 'pie-chart',
  'piedpiper': 'pied-piper',
  'piedpiperalt': 'pied-piper-alt',
  'piedpiperpp': 'pied-piper-pp',
  'pinterest': 'pinterest',
  'pinterestp': 'pinterest-p',
  'pinterestsquare': 'pinterest-square',
  'plane': 'plane',
  'play': 'play',
  'playcircle': 'play-circle',
  'playcircleo': 'play-circle-o',
  'plug': 'plug',
  'plus': 'plus',
  'pluscircle': 'plus-circle',
  'plussquare': 'plus-square',
  'plussquareo': 'plus-square-o',
  'podcast': 'podcast',
  'poweroff': 'power-off',
  'print': 'print',
  'producthunt': 'product-hunt',
  'puzzlepiece': 'puzzle-piece',
  'qq': 'qq',
  'qrcode': 'qrcode',
  'question': 'question',
  'questioncircle': 'question-circle',
  'questioncircleo': 'question-circle-o',
  'quora': 'quora',
  'quoteleft': 'quote-left',
  'quoteright': 'quote-right',
  'random': 'random',
  'ravelry': 'ravelry',
  'rebel': 'rebel',
  'recycle': 'recycle',
  'reddit': 'reddit',
  'redditalien': 'reddit-alien',
  'redditsquare': 'reddit-square',
  'refresh': 'refresh',
  'registered': 'registered',
  'renren': 'renren',
  'repeat': 'repeat',
  'reply': 'reply',
  'replyall': 'reply-all',
  'retweet': 'retweet',
  'road': 'road',
  'rocket': 'rocket',
  'rss': 'rss',
  'rsssquare': 'rss-square',
  'rub': 'rub',
  'safari': 'safari',
  'scissors': 'scissors',
  'scribd': 'scribd',
  'search': 'search',
  'searchminus': 'search-minus',
  'searchplus': 'search-plus',
  'sellsy': 'sellsy',
  'server': 'server',
  'share': 'share',
  'sharealt': 'share-alt',
  'sharealtsquare': 'share-alt-square',
  'sharesquare': 'share-square',
  'sharesquareo': 'share-square-o',
  'shield': 'shield',
  'ship': 'ship',
  'shirtsinbulk': 'shirtsinbulk',
  'shoppingbag': 'shopping-bag',
  'shoppingbasket': 'shopping-basket',
  'shoppingcart': 'shopping-cart',
  'shower': 'shower',
  'signal': 'signal',
  'signin': 'sign-in',
  'signlanguage': 'sign-language',
  'signout': 'sign-out',
  'simplybuilt': 'simplybuilt',
  'sitemap': 'sitemap',
  'skyatlas': 'skyatlas',
  'skype': 'skype',
  'slack': 'slack',
  'sliders': 'sliders',
  'slideshare': 'slideshare',
  'smileo': 'smile-o',
  'snapchat': 'snapchat',
  'snapchatghost': 'snapchat-ghost',
  'snapchatsquare': 'snapchat-square',
  'snowflakeo': 'snowflake-o',
  'sort': 'sort',
  'sortalphaasc': 'sort-alpha-asc',
  'sortalphadesc': 'sort-alpha-desc',
  'sortamountasc': 'sort-amount-asc',
  'sortamountdesc': 'sort-amount-desc',
  'sortasc': 'sort-asc',
  'sortdesc': 'sort-desc',
  'sortnumericasc': 'sort-numeric-asc',
  'sortnumericdesc': 'sort-numeric-desc',
  'soundcloud': 'soundcloud',
  'spaceshuttle': 'space-shuttle',
  'spinner': 'spinner',
  'spoon': 'spoon',
  'spotify': 'spotify',
  'square': 'square',
  'squareo': 'square-o',
  'stackexchange': 'stack-exchange',
  'stackoverflow': 'stack-overflow',
  'star': 'star',
  'starhalf': 'star-half',
  'starhalfo': 'star-half-o',
  'staro': 'star-o',
  'steam': 'steam',
  'steamsquare': 'steam-square',
  'stepbackward': 'step-backward',
  'stepforward': 'step-forward',
  'stethoscope': 'stethoscope',
  'stickynote': 'sticky-note',
  'stickynoteo': 'sticky-note-o',
  'stop': 'stop',
  'stopcircle': 'stop-circle',
  'stopcircleo': 'stop-circle-o',
  'streetview': 'street-view',
  'strikethrough': 'strikethrough',
  'stumbleupon': 'stumbleupon',
  'stumbleuponcircle': 'stumbleupon-circle',
  'subscript': 'subscript',
  'subway': 'subway',
  'suitcase': 'suitcase',
  'suno': 'sun-o',
  'superpowers': 'superpowers',
  'superscript': 'superscript',
  'table': 'table',
  'tablet': 'tablet',
  'tachometer': 'tachometer',
  'tag': 'tag',
  'tags': 'tags',
  'tasks': 'tasks',
  'taxi': 'taxi',
  'telegram': 'telegram',
  'television': 'television',
  'tencentweibo': 'tencent-weibo',
  'terminal': 'terminal',
  'textheight': 'text-height',
  'textwidth': 'text-width',
  'th': 'th',
  'themeisle': 'themeisle',
  'thermometerempty': 'thermometer-empty',
  'thermometerfull': 'thermometer-full',
  'thermometerhalf': 'thermometer-half',
  'thermometerquarter': 'thermometer-quarter',
  'thermometerthreequarters': 'thermometer-three-quarters',
  'thlarge': 'th-large',
  'thlist': 'th-list',
  'thumbsdown': 'thumbs-down',
  'thumbsodown': 'thumbs-o-down',
  'thumbsoup': 'thumbs-o-up',
  'thumbsup': 'thumbs-up',
  'thumbtack': 'thumb-tack',
  'ticket': 'ticket',
  'times': 'times',
  'timescircle': 'times-circle',
  'timescircleo': 'times-circle-o',
  'tint': 'tint',
  'toggleoff': 'toggle-off',
  'toggleon': 'toggle-on',
  'trademark': 'trademark',
  'train': 'train',
  'transgender': 'transgender',
  'transgenderalt': 'transgender-alt',
  'trash': 'trash',
  'trasho': 'trash-o',
  'tree': 'tree',
  'trello': 'trello',
  'tripadvisor': 'tripadvisor',
  'trophy': 'trophy',
  'truck': 'truck',
  'try': 'try',
  'tty': 'tty',
  'tumblr': 'tumblr',
  'tumblrsquare': 'tumblr-square',
  'twitch': 'twitch',
  'twitter': 'twitter',
  'twittersquare': 'twitter-square',
  'umbrella': 'umbrella',
  'underline': 'underline',
  'undo': 'undo',
  'universalaccess': 'universal-access',
  'university': 'university',
  'unlock': 'unlock',
  'unlockalt': 'unlock-alt',
  'upload': 'upload',
  'usb': 'usb',
  'usd': 'usd',
  'user': 'user',
  'usercircle': 'user-circle',
  'usercircleo': 'user-circle-o',
  'usermd': 'user-md',
  'usero': 'user-o',
  'userplus': 'user-plus',
  'users': 'users',
  'usersecret': 'user-secret',
  'usertimes': 'user-times',
  'venus': 'venus',
  'venusdouble': 'venus-double',
  'venusmars': 'venus-mars',
  'viacoin': 'viacoin',
  'viadeo': 'viadeo',
  'viadeosquare': 'viadeo-square',
  'videocamera': 'video-camera',
  'vimeo': 'vimeo',
  'vimeosquare': 'vimeo-square',
  'vine': 'vine',
  'vk': 'vk',
  'volumecontrolphone': 'volume-control-phone',
  'volumedown': 'volume-down',
  'volumeoff': 'volume-off',
  'volumeup': 'volume-up',
  'weibo': 'weibo',
  'weixin': 'weixin',
  'whatsapp': 'whatsapp',
  'wheelchair': 'wheelchair',
  'wheelchairalt': 'wheelchair-alt',
  'wifi': 'wifi',
  'wikipediaw': 'wikipedia-w',
  'windowclose': 'window-close',
  'windowcloseo': 'window-close-o',
  'windowmaximize': 'window-maximize',
  'windowminimize': 'window-minimize',
  'windowrestore': 'window-restore',
  'windows': 'windows',
  'wordpress': 'wordpress',
  'wpbeginner': 'wpbeginner',
  'wpexplorer': 'wpexplorer',
  'wpforms': 'wpforms',
  'wrench': 'wrench',
  'xing': 'xing',
  'xingsquare': 'xing-square',
  'yahoo': 'yahoo',
  'ycombinator': 'y-combinator',
  'yelp': 'yelp',
  'yoast': 'yoast',
  'youtube': 'youtube',
  'youtubeplay': 'youtube-play',
  'youtubesquare': 'youtube-square'
}
const iconValues = Object.values(icons)

AutoForm.addInputType('faicon', {
  template: 'afFaicon',
  valueOut () {
    return this.val()
  },
  valueIn (initialValue) {
    return initialValue
  }
})

Template.afFaicon.onCreated(function () {
  const instance = this
  const { atts } = this.data

  instance.key = new ReactiveVar(atts[ 'data-schema-key' ] || '')
  instance.filter = new ReactiveVar()
  instance.loadComplete = new ReactiveVar(false)
  instance.selected = new ReactiveVar(this.data.value)
  instance.loadComplete.set(true)
})

Template.afFaicon.helpers({
  dataSchemaKey () {
    return Template.instance().key.get()
  },
  loadComplete () {
    return Template.instance().loadComplete.get()
  },
  entries () {
    const filter = Template.instance().filter.get()
    if (filter && filter.length > 0) {
      return iconValues.filter(el => el.indexOf(filter) > -1)
    } else {
      return iconValues
    }
  },
  selected () {
    return Template.instance().selected.get()
  },
  isSelected (value) {
    return Template.instance().selected.get() === value
  }
})

Template.afFaicon.events({

  'click .af-faicon-entry' (event, templateInstance) {
    event.preventDefault()

    const target = $(event.currentTarget).attr('data-icon')
    const selected = templateInstance.selected.get()

    const value = target !== selected ? target : null
    templateInstance.selected.set(value)
  },

  'input #afFaIcon-filter' (event, templateInstance) {
    event.preventDefault()
    const value = $(event.currentTarget).val()
    templateInstance.filter.set(value)
  }
})
